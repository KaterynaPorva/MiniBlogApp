# Звіт про проведення архітектурного рефакторингу проєкту MiniBlogApp

---

## 1. Мета рефакторингу

Перехід від жорстко залежної архітектури зі статичними компонентами до професійної структури, що базується на принципах SOLID (зокрема, принципі інверсії залежностей).  

Основна ціль — зробити застосунок гнучким, стійким до помилок та готовим до майбутнього розширення.

---

## 2. Ключові технічні зміни

### A. Впровадження Dependency Injection (DI)

Відмова від статичних класів `BlogStorage` та `LoggerService` на користь ін'єкції залежностей через конструктори.  

**Реалізація:**  
Усі сервіси тепер реєструються в контейнері залежностей у файлі `Program.cs`.

**Результат:**  
Компоненти системи більше не залежать від конкретних реалізацій. Це дозволяє, наприклад, замінити вбудоване сховище на реальну базу даних SQL, змінивши лише один рядок конфігурації, не чіпаючи логіку сторінок.

---

### B. Робота через інтерфейси (Абстракція)

Було спроєктовано та впроваджено нові інтерфейси-контракти:

- `IBlogStorage` — стандартизований набір методів для роботи з постами, лайками та коментарями.
- `IActivityLogger` — уніфікований інтерфейс для журналювання дій користувачів.

**Результат:**  
Код став модульним. Кожна сторінка (`PageModel`) тепер чітко заявляє про свої потреби через параметри конструктора, що відповідає кращим практикам розробки на .NET.

---

### C. Забезпечення потокобезпеки (Thread Safety)

Оскільки сервіси тепер працюють як спільні об'єкти (`Singleton`), було впроваджено механізм синхронізації доступу за допомогою конструкції `lock`.

**Реалізація:**  
В критичних точках запису та читання даних (додавання поста, лайка, коментаря) додано блокування потоків.

**Результат:**  
Повний захист від колізій та помилок типу `"Collection was modified"`, навіть якщо багато користувачів одночасно взаємодіють із блогом.

---

## 3. Порівняльна характеристика

| Характеристика | До рефакторингу (Статичний підхід) | Після рефакторингу (DI підхід) |
|----------------|------------------------------------|--------------------------------|
| Зв'язність (Coupling) | Висока (Hard-coded залежності) | Низька (Loose coupling через інтерфейси) |
| Гнучкість | Будь-яка зміна потребує переписування всієї логіки | Зміни вносяться на рівні конфігурації сервісів |
| Управління даними | Глобальний стан, важкий для контролю | Чітко керований життєвий цикл сервісів |
| Стабільність | Ризик вильоту програми при паралельних запитах | Гарантована цілісність даних завдяки `lock` |

---

## 4. Висновок

В результаті проведеної роботи застосунок MiniBlogApp було переведено з формату прототипу на рівень професійного вебзастосунку.  

Впроваджена архітектура дозволяє легко масштабувати проєкт, додавати нові функції та забезпечує високу надійність роботи в багатокористувацькому середовищі.
